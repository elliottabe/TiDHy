##### Model dimensions (required) #####
r_dim: ${resolve_default:8,${r_dim}}
r2_dim: ${resolve_default:8,${r2_dim}}
mix_dim: ${resolve_default:8,${mix_dim}}
input_dim: 6
hyper_hid_dim: 32

##### Architecture options #####
loss_type: MSE
nonlin_decoder: true  # Nonlinear decoder forces R to learn meaningful features

##### Learning rates (for inference) #####
lr_r: 7.5e-3
lr_r2: 7.5e-3
temp_weight: 2.0

##### Regularization #####
lmda_r: 0.0
lmda_r2: 0.0
weight_decay: 0.00001
clip_grad: 10.0

# L1 Inference Penalties
L1_inf_w: 0.0
L1_inf_r2: 0.0
L1_inf_r: 0.0

# Hybrid configuration
# Balances temporal smoothness and sparsity for both continuous and discrete behavior
# Suitable for systems with hierarchical multi-timescale structure (e.g., Rossler)
# r2 evolves smoothly but maintains some sparsity for interpretability

##### R #####
sparsity_r_l1: 0.0
sparsity_r_adaptive: 0.1           # Adaptive sparsity for R
target_sparsity_r: 0.8              # Target 80% zeros in R for interpretability
sparsity_r_hoyer: 0.0

##### R2 #####
sparsity_r2_l1: 0.01                # Mild L1 sparsity penalty
sparsity_r2_adaptive: 0.0           # No adaptive sparsity (can be unstable)
target_sparsity_r2: 0.80            # Target 80% zeros (moderate sparsity)
sparsity_r2_hoyer: 0.0

##### Weights #####
w_min_active_ratio: 0.25            # Keep 25% of components active
sparsity_w_adaptive: 0.0
sparsity_w_selective: 0.0
w_target_active: null
sparsity_temperature: 1.0           # Default temperature
sparsity_w_safe: 0.02               # Keep safe hypernetwork regularization
sparsity_w_l1: 0.0

##### Temporal smoothness #####
r2_temporal_smoothness_inf: 0.05    # Moderate smoothness during inference
r2_temporal_smoothness_train: 0.02  # Light smoothness during training
r2_continuity_weight: 0.05          # Cross-window continuity (matching Rossler default)

##### Saturation parameters #####
saturate_r_method: 'scaled_tanh'           # Saturation method for r: 'none', 'sigmoid', 'tanh', 'scaled_tanh'
saturate_r2_method: 'none'          # Saturation method for r2: 'none', 'sigmoid', 'tanh', 'scaled_tanh'
saturate_r_scale: 5.0               # Scale for scaled_tanh saturation of r
saturate_r2_scale: 3.0              # Scale for scaled_tanh saturation of r2

##### Interpretability regularization #####
# Encourage independent, interpretable R dimensions
lambda_decoder_ortho: 0.01          # Decoder orthogonality (promotes independent dimensions via decoder structure)
lambda_r_correlation: 0.01          # R correlation penalty (penalizes correlated dimensions)

##### Training params #####
max_iter: 1000
tol: 0.01
normalize_spatial: false
normalize_temporal: false
cos_eta: 5.0

##### Display #####
show_progress: true
show_inf_progress: false
